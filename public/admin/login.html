
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.ico">
    <title>登录</title>
    <!-- Bootstrap core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/login.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <form class="form-signin" action="/admin/login" method="get" onsubmit="checket()">
        <h2 class="form-signin-heading">管理系统</h2>
        <label for="inputName" class="sr-only">用户名</label>
        <input type="text" id="inputName" name="adminname" class="form-control" placeholder="输入用户名" required autofocus>
        <label for="inputPassword" class="sr-only">密码</label>
        <input type="password" id="inputPassword" name="password" class="form-control"  required>
        <div class="checkbox">
            <label>
                <input id="remenber" type="checkbox" checked="checked"> 记住我
            </label>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="submit">登录</button>
    </form>
</div> <!-- /container -->
<script>
    document.getElementsByTagName("body")[0].setAttribute("style","background:url(https://unsplash.it/"+screen.width+"?blur)");
    function checket() {
        if(document.getElementById("remenber").checked){
            var a="adminname="+document.getElementById("inputName").value+";password="+document.getElementById("inputPassword").value+";";
            document.cookie=a;
            alert(a)
        }else {
            document.cookie="";
        }
        return true;
    }
    function getCookie(c_name){
        if (document.cookie.length>0){　　//先查询cookie是否为空，为空就return ""
            c_start=document.cookie.indexOf(c_name + "=")　　//通过String对象的indexOf()来检查这个cookie是否存在，不存在就为 -1　　
            if (c_start!=-1){
                c_start=c_start + c_name.length+1　　//最后这个+1其实就是表示"="号啦，这样就获取到了cookie值的开始位置
                c_end=document.cookie.indexOf(";",c_start)　　//其实我刚看见indexOf()第二个参数的时候猛然有点晕，后来想起来表示指定的开始索引的位置...这句是为了得到值的结束位置。因为需要考虑是否是最后一项，所以通过";"号是否存在来判断
                if (c_end==-1) c_end=document.cookie.length
                return unescape(document.cookie.substring(c_start,c_end))　　//通过substring()得到了值。想了解unescape()得先知道escape()是做什么的，都是很重要的基础，想了解的可以搜索下，在文章结尾处也会进行讲解cookie编码细节
            }
        }
        return ""
    }
    document.getElementById("inputName").value=getCookie("adminname");
    document.getElementById("inputPassword").value=getCookie("password");
    alert(getCookie("adminname"));

</script>
</body>
</html>
